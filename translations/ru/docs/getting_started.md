# Начало работы со скриптами

CraftTweaker uses a custom scripting Language called `ZenScript`, ZenScript is read from `.zs` files that are stored in the `<gamedir>/scripts` folder, if you aren't sure where this folder is, just run `/ct scripts` when in the game and the folder will open.

ZenScript — язык сценариев «сверху вниз». Это значит, что `операторы импорта` должны быть сверху файла, `объявления переменных` должны быть недалеко от верха файла, впрочем, ограничения на это нет. `Переменная` может быть объявлена где угодно в скрипте, а доступа к ней не будет выше, чем объявлена.


Файлы скриптов имеют префикс `.zs` , убедитесь, что он не `.zs.txt`!

## Что такое скрипты

Скрипты хранятся в `<gamedir>/scripts` и загружаются, когда игрок присоединяется к миру, подобно предыдущим версиям CraftTweaker (за исключением 1. 2), скрипты могут быть перезагружены, просто запустите `/reload`.

Скрипты загружаются дважды при входе в мир одного игрока, один раз на `сервере` , а затем на `клиенте` стороне, если у вас в скрипте `println()` , вы увидите его дважды, так как он работает дважды.

Это не означает, что изменения применяются дважды при изменениях, внесенных скриптами, могут быть заблокированы, так что некоторые изменения, Например, настройка локализации, работает только на стороне клиента, но добавление рецептов происходит только на стороне сервера.

При подключении к серверу сервер отправляет клиенту свои скрипты, и клиент запускает эти скрипты. Это означает, что клиент без каких-либо скриптов, может присоединиться к серверу и получить изменения (полезно, если вам нужно отключить элемент на сервере, но не хочу заставлять клиентов загружать дополнительные файлы!)


### Написание вашего первого скрипта

Чтобы начать работу со скриптами, вы можете создать очень простой файл, называемый `привет. s` в папке `<gamedir>/scripts>` ; Если вы не уверены в том, где находится папка, просто запустите `/ct scripts` и он должен открыть!

В `hello.zs` вставьте следующую строку

```zenscript
println("Привет мир!");
```

Now load up Minecraft and and take a look at the `<gamedir>/logs/crafttweaker.log` file (or run `/ct log` to have the file open in your default text editor).

Файл `crafttweaker.log` находится в `<gamedir>/logs` и может быть прочитан любой программой, которая может читать текстовые файлы.

Для редактирования файлов скриптов рекомендуется использовать Notepad++, Sublime Text или VSCode .

При выборе программы, используемой для редактирования скриптов, посмотрите какие подсветки синтаксиса доступны, большинство распространенных текстовых редакторов имеют ZenScript поддержку через использование плагина.



### Файл crafttweaker.log

Файл `crafttweaker.log` использует специальный синтаксис в выходном файле, приведенный ниже:

```
[ЧЧ:ММ:СС.мс][LOADERSTAGE][SIDE][TYPE] <message>
```

Используя приведенный выше шаблон, можно сделать пример:

```
[14:58:06.697][DONE][SERVER][INFO] Привет мир!
```

Синтаксис используется в целях отладки и единственный раз, когда не используется синтаксис, - для командных дампов, в этом случае просто напечатайте сообщение, так что скопируйте полученную информацию легче.

### Комментарии

Комментарии облегчают понимание скриптов и делают их более читабельными!

ZenScript поддерживает 3 типа комментариев:

Однострочный: `// Я - однострочный комментарий!`

Альтернативный однострочный: `# Я тоже однострочный комментарий!`

Многострочный:
```
/* Я
многострочный комментарий! */
```

Просто обратите внимание, что `#` комментариев также используются для препроцессоров (TODO ссылка на препроцессоры, когда они документированы), так что если они все еще являются действительными комментариями, они могут вызвать нежелательные побочные эффекты. 