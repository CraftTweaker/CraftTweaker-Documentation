# 全局变量和静态变量

相信你一定遇到了这样的情景：在每个脚本中一遍又一遍的重复声明相同的变量；  
“就没什么方法能够在每个脚本中都能够调用？”你脑海里一定无数次重复了这个问题。

值得欣慰的是，现在已经能够有办法声明并访问全局/静态的值了！  
当然，它们一旦声明就无法被改变。


## 静态和全局的不同之处
静态和全局变量都可以跨脚本调用，并且在脚本执行前就被实例化了；  
两者都无法再次被修改。  
不同之处在于两者如何被调用：  
全局变量可以在脚本的任意处，简单的使用变量名来进行调用。除非本地脚本中有同名变量覆盖了它；   
静态变量则需要通过[跨脚本调用](Cross-Script_Reference)方式才能访问。

全局变量创建需要使用 `global` 关键字；  
静态变量创建需要 `static` 关键字。

除此之外，它们是相同的！


## 声明全局变量
声明一个全局变量就和普通的变量声明几乎一致：

```js
import crafttweaker.item.IItemStack;


global myGlobalValue as IItemStack = <minecraft:dirt>;
static myStaticValue as IItemStack = <minecraft:sand>;
```

好，接下来我们对其进行细分分析：

1. `global` 关键字，表明这是一个全局变量；
2. `myGlobalValue` 变量名；
3. `as IItemStack` 变量类型（非常推荐在构建变量之前，先[导入](Import)相关类型）
4. `= <minecraft:dirt>;` 变量初始化。因为全局变量是不可变的，所以你需要在初始化的时候一并声明它！

## 一些建议

- 你可以随意访问已经声明好的全局变量，使用[预处理优先级](/AdvancedFunctions/Preprocessors/PriorityPreprocessor)来确保全局变量所在的脚本能够优先执行。
- 全局变量不能在子文件夹下的脚本中声明！否则编译的时候就会提示 `FieldNotFound Exception`！
- 虽然`as`后面的部分完全可以省略，但是我们还是极为推荐你保留下它，毕竟`IAny` 接口尚未完全可用；其次，这样做也利于其他人阅读或者排错！
- 本地变量**能够**覆盖全局变量。脚本总是优先检索最近作用域中的变量，最后才会检索到全局变量！

